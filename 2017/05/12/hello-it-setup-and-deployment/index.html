<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Hello-IT Setup and Deployment - Zack McCauley</title>
    <meta name="description" content="Hi, I’m a macadmin for a school district in Montana. I like to program things sometimes. I am always learning.
">
    <meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="og:title" content="Hello-IT Setup and Deployment - Zack McCauley"><meta property="og:site_name" content="Zack McCauley"><meta property="og:description" content="Hi, I’m a macadmin for a school district in Montana. I like to program things sometimes. I am always learning."><meta property="og:url" content="https://wardsparadox.github.io/2017/05/12/hello-it-setup-and-deployment/"><meta property="article:published_time" content="2017-05-12T08:17:00-06:00"><meta property="article:author" content="https://wardsparadox.github.io/about">

    

    
    <meta name="google-site-verification" content="99065592" />
    

    <link rel="alternate" type="application/rss+xml" href="https://wardsparadox.github.io/feed.xml">
    <link rel="shortcut icon" href="https://wardsparadox.github.io/favicon.ico">
    <link rel="prefetch" href="https://wardsparadox.github.io">
    <link rel="canonical" href="https://wardsparadox.github.io/2017/05/12/hello-it-setup-and-deployment/">
    <link rel="stylesheet"
    href="https://wardsparadox.github.io/assets/css/main.css">
    <!-- Favicons -->
    <link rel="apple-touch-icon" sizes="57x57" href="https://wardsparadox.github.io/assets/images/favicons/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="https://wardsparadox.github.io/assets/images/favicons/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="https://wardsparadox.github.io/assets/images/favicons/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="https://wardsparadox.github.io/assets/images/favicons/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114"  href="https://wardsparadox.github.io/assets/images/favicons/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120"  href="https://wardsparadox.github.io/assets/images/favicons/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144"  href="https://wardsparadox.github.io/assets/images/favicons/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152"  href="https://wardsparadox.github.io/assets/images/favicons/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180"  href="https://wardsparadox.github.io/assets/images/favicons/apple-touch-icon-180x180.png">
    <link rel="icon" type="image/png" href="https://wardsparadox.github.io/assets/images/favicons/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="https://wardsparadox.github.io/assets/images/favicons/android-chrome-192x192.png"  sizes="192x192">
    <link rel="icon" type="image/png" href="https://wardsparadox.github.io/assets/images/favicons/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="https://wardsparadox.github.io/assets/images/favicons/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="https://wardsparadox.github.io/assets/images/favicons/manifest.json">
    <link rel="mask-icon" href="https://wardsparadox.github.io/assets/images/favicons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#fffff">
    <meta name="msapplication-TileImage" content="https://wardsparadox.github.io/assets/images/favicons/mstile-144x144.png">
    <meta name="themesettings-color" content="#ffffff">
    <!-- /Favicons -->

    <!-- IE Fixes -->
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
<link href="//netdna.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.css" rel="stylesheet">
    <style type="text/css">a,.post-title a{color:#2192BB}a:hover{border-bottom-color:#2192BB}.sidebar{background-color:#2192BB}.wc-top,.sidebar-toggle:active,#sidebar-checkbox:checked ~ .sidebar-toggle{background-color:#2192BB}.sidebar a:hover,.sidebar .sidebar-nav a{border-bottom-color:#25a3d1}.sidebar .sidebar-nav{border-top-color:#25a3d1}.sidebar .sidebar-nav a.sidebar-nav-item:hover,.sidebar .sidebar-nav a.sidebar-nav-item:focus{background:#239cc8}.sidebar .sidebar-nav .sidebar-nav-item.active{background-color:#1f88ae}ul.social-media li>a{background-color:#1f88ae;border-color:#25a3d1;border-bottom-color:#25a3d1 !important}ul.social-media li>a:hover{background-color:#e1f3fa}.btn{border-color:#2192BB;background:#2192bb}.btn:hover,.btn:focus{border-color:#1d81a5;background:#1d81a5}</style>
  </head>
  <body>
    <input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox"><div class="sidebar" id="sidebar">    <img    src="https://wardsparadox.github.io/assets/images/avatar.jpg"    alt="Zack McCauley" />    <div class="sidebar-info">      <p>        Hi, I’m a macadmin for a school district in Montana. I like to program things sometimes. I am always learning.      </p>  </div>  <nav class="sidebar-nav">    <a class="sidebar-nav-item"      href="https://wardsparadox.github.io/">      Home    </a>                <a class="sidebar-nav-item "      href="https://wardsparadox.github.io/about">      About me    </a>                <a class="sidebar-nav-item "      href="https://wardsparadox.github.io/archive">      Blog Archive    </a>                <a class="sidebar-nav-item "      href="https://wardsparadox.github.io/tags">      Tags    </a>      </nav>  <div class="sidebar-info small">     <p>       Made by <a href="https://github.com/gayanvirajith/gaya" target="_blank">Gayan Virajith</a> For everyone.       Powered by <a href="http://jekyllrb.com" target="_blank">Jekyll</a>     </p>  </div>  <ul class="social-media">        <li>        <a title="mccauley_zack on Twitter"            href="https://twitter.com/mccauley_zack"            class="twitter wc-img-replace" target="_blank">Twitter</a>    </li>            <li>        <a title="108452882684071984253 on Google Plus"            href="https://plus.google.com/108452882684071984253"            class="google wc-img-replace" target="_blank">Google</a>    </li>                <li>        <a title="wardsparadox on Github"            href="https://github.com/wardsparadox"            class="github wc-img-replace" target="_blank">Github</a>    </li>                    <li>        <a title="zack_mccauley @ macadmins.org on Slack"            href="https://www.macadmins.org/"            class="slack wc-img-replace" target="_blank">Slack</a>    </li>        <li>        <a title="Subscribe via RSS"            href="https://wardsparadox.github.io/feed.xml"            class="rss wc-img-replace" target="_blank">            RSS        </a>    </li></ul></div>

    <div class="main-wrapper">
      <div class="header">
        <div class="container">
          <div class="header-logo"><a href="https://wardsparadox.github.io/"   title="Zack McCauley">  <img     src="https://wardsparadox.github.io/assets/images/logo.jpg"    alt="Zack McCauley" /></a></div>
          <div class="header-title">
            <a href="https://wardsparadox.github.io/"
              title="Zack McCauley">
              <h3>Zack McCauley<small>Fixer of Machines, Breaker of Code</small></h3>
            </a>
          </div>
        </div>
      </div>

      <div class="container content">
          <div class="post">

  

  

  <header class="post-header">
    <h1 class="post-title">Hello-IT Setup and Deployment</h1>
    <p class="post-meta">
    
      <span class="categories">
      Hello IT
      </span> |
    
    <span class="post-date">
    May 12, 2017
    </span>
    </p>
  </header>

  <article class="post-content">
    <p>I have recently been playing with a tool called <a href="https://github.com/ygini/Hello-IT">Hello IT</a>. It has been a wonderful tool in testing and I am getting excited to send it out here in our district. I believe it will help our staff be able to communicate to us effectively. Our current layout looks like this:
<img src="/assets/images/content images/HelloIT Menu Layout.jpg" alt="" />
<!--more-->
To do this was pretty easy once I got a good explanation from <a href="https://github.com/ygini">@ygini</a> on the <i class="fa fa-apple fg-lg"></i><a href="https://macadmins.org">MacAdmins.org</a> slack. He pointed out many flaws with my understanding. Take for example script items. You can choose <code class="highlighter-rouge">path</code> or <code class="highlighter-rouge">script</code> as the way to call the script. It’s <em>much</em> easier to use the script method. Drop your script in the <code class="highlighter-rouge">CustomScript</code> directory, check it’s permissions and call it the script like this:</p>
<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;dict&gt;</span>
  <span class="nt">&lt;key&gt;</span>functionIdentifier<span class="nt">&lt;/key&gt;</span>
  <span class="nt">&lt;string&gt;</span>public.script.item<span class="nt">&lt;/string&gt;</span>
  <span class="nt">&lt;key&gt;</span>settings<span class="nt">&lt;/key&gt;</span>
  <span class="nt">&lt;dict&gt;</span>
    <span class="nt">&lt;key&gt;</span>script<span class="nt">&lt;/key&gt;</span>
    <span class="nt">&lt;string&gt;</span>com.github.ygini.hello-it.wardsparadox.serialnumber.sh<span class="nt">&lt;/string&gt;</span>
    <span class="nt">&lt;key&gt;</span>title<span class="nt">&lt;/key&gt;</span>
    <span class="nt">&lt;string&gt;</span>SNInfo<span class="nt">&lt;/string&gt;</span>
  <span class="nt">&lt;/dict&gt;</span>
<span class="nt">&lt;/dict&gt;</span>
</code></pre>
</div>

<p>Let’s break the preferences down a bit. Each <code class="highlighter-rouge">item</code> is stored inside a <code class="highlighter-rouge">dict</code>. There is a <code class="highlighter-rouge">key</code> called <code class="highlighter-rouge">functionIdentifier</code> that tells HITp which type of item it is. You can create custom items but I have not had a need for that. There are <code class="highlighter-rouge">[public.open.application, public.open.resource, public.quit, public.script.item, public.separator, public.submenu, public.test.http, public.title]</code> available as <code class="highlighter-rouge">functionIdentifier</code>’s. You can find all of the explanations for each of these on the <a href="https://github.com/ygini/Hello-IT/wiki/">Wiki</a>.</p>

<p>To build a deployment package, I recommend <a href="https://www.github.com/munki/munki-pkg">munki-pkg</a> as it is simple, it wraps native frameworks and is incredibly quick to get going. First create a new <code class="highlighter-rouge">munkipkg</code> project:</p>
<div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="nv">$:</span> munkipkg --create hello-it-deployment
<span class="nv">$:</span> <span class="nb">cd</span> ./hello-it-deployment
</code></pre>
</div>
<p>At this point you will notice a folder structure like such:</p>
<div class="language-shell highlighter-rouge"><pre class="highlight"><code>.
├── build
├── build-info.plist
├── payload
└── scripts
</code></pre>
</div>
<p>Edit the <code class="highlighter-rouge">build-info.plist</code> and change several things to match the appropriate settings down below.</p>
<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="cp">&lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt;</span>
<span class="nt">&lt;plist</span> <span class="na">version=</span><span class="s">"1.0"</span><span class="nt">&gt;</span>
<span class="nt">&lt;dict&gt;</span>
	<span class="nt">&lt;key&gt;</span>distribution_style<span class="nt">&lt;/key&gt;</span>
	<span class="nt">&lt;false/&gt;</span>
	<span class="nt">&lt;key&gt;</span>identifier<span class="nt">&lt;/key&gt;</span>
	<span class="nt">&lt;string&gt;</span>com.github.yourusername.hello-it-deployment<span class="nt">&lt;/string&gt;</span>
	<span class="nt">&lt;key&gt;</span>install_location<span class="nt">&lt;/key&gt;</span>
	<span class="nt">&lt;string&gt;</span>/Library/Application Support/CustomScripts<span class="nt">&lt;/string&gt;</span>
	<span class="nt">&lt;key&gt;</span>name<span class="nt">&lt;/key&gt;</span>
	<span class="nt">&lt;string&gt;</span>hello-it-deployment-${version}.pkg<span class="nt">&lt;/string&gt;</span>
	<span class="nt">&lt;key&gt;</span>ownership<span class="nt">&lt;/key&gt;</span>
	<span class="nt">&lt;string&gt;</span>recommended<span class="nt">&lt;/string&gt;</span>
	<span class="nt">&lt;key&gt;</span>postinstall_action<span class="nt">&lt;/key&gt;</span>
	<span class="nt">&lt;string&gt;</span>none<span class="nt">&lt;/string&gt;</span>
	<span class="nt">&lt;key&gt;</span>suppress_bundle_relocation<span class="nt">&lt;/key&gt;</span>
	<span class="nt">&lt;true/&gt;</span>
	<span class="nt">&lt;key&gt;</span>version<span class="nt">&lt;/key&gt;</span>
	<span class="nt">&lt;string&gt;</span>1.0<span class="nt">&lt;/string&gt;</span>
<span class="nt">&lt;/dict&gt;</span>
<span class="nt">&lt;/plist&gt;</span>
</code></pre>
</div>
<p>Once all the scripts you want to deploy are in the payload folder, you will need to change the permissions and ownership so they run correctly. To do this run (assuming you are still in the same directory inside your terminal session):</p>
<div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="nv">$:</span> sudo chown -R root:wheel payload
<span class="nv">$:</span> sudo chmod -R 755 payload
</code></pre>
</div>
<p>Your package is now ready to be built. Go over all the files again, make sure your <code class="highlighter-rouge">build-info.plist</code> is correct, and build your package.</p>
<div class="language-shell highlighter-rouge"><pre class="highlight"><code> <span class="nv">$:</span> munkipkg build /path/to/hello-it-deployment
</code></pre>
</div>
<p>This will create a package in the <code class="highlighter-rouge">build</code> directory of your project. You can use <code class="highlighter-rouge">munkiimport</code> or any other deployment tool to deploy this package now. If using <a href="https://www.munki.org/">munki</a>, make sure to mark this as an <code class="highlighter-rouge">update_for</code> for the Hello IT App. I recommend deploying the app and using the “KeepAlive” feature mentioned in the <a href="https://github.com/ygini/Hello-IT/wiki/Launching-App">wiki</a>.</p>

<p>You will also need to deploy the preferences for your setup. I highly recommend using a configuration profile to do this. It makes management incredibly easy to maintain and update. I have tried to document the <code class="highlighter-rouge">dict</code>’s needed for the scripts in the Repo, but if you have custom scripts, all I can do is recommend checking my example configuration profile in the main repo <a href="https://github.com/ygini/Hello-IT/blob/master/example/HelloITConfiguration_example.mobileconfig">here</a></p>

<h3 id="sidenote">Sidenote:</h3>
<p>If you have custom scripts that can be generalized, please make a fork of the main repo, adjust your scripts to be in reverse domain format such as <code class="highlighter-rouge">com.github.yourusername.hello-it.scriptname.sh</code>, add a ReadMe.md following the templates in the repo and move them to a folder with the same script name. We can add so much to Hello IT and make it better with more community scripts.</p>

  </article>

  
    <div class="related-posts">
      <h4>Related Posts</h4>
      <ul>
        
          <li>
            <h5>
              <a href="https://wardsparadox.github.io/2018/01/15/deploying-detectx-swift-with-munki/">
                Deploying DetectX Swift with Munki
                <small>15 Jan 2018</small>
              </a>
            </h5>
          </li>
        
          <li>
            <h5>
              <a href="https://wardsparadox.github.io/2017/05/29/dock-maintainer-defined/">
                Dock-maintainer: Defined
                <small>29 May 2017</small>
              </a>
            </h5>
          </li>
        
          <li>
            <h5>
              <a href="https://wardsparadox.github.io/2016/11/29/i-made-a-thingwell-sorta/">
                I made a thing..well sorta
                <small>29 Nov 2016</small>
              </a>
            </h5>
          </li>
        
      </ul>
    </div>
  

  <div class="author-info">
    
      <div class="author">   <a href="https://wardsparadox.github.io/about">    <img      src="https://wardsparadox.github.io/assets/images/avatar.jpg"      alt="Zack McCauley" width="60" height="60" />  </a>    <h5>Author</h4>  <h6>    <a href="https://wardsparadox.github.io/about">      Zack McCauley    </a>  </h5>  <p>    Find me on            <a title="wardsparadox on GitHub"            href="https://github.com/wardsparadox"            class="github" target="_blank">Github</a>                /        <a title="zack_mccauley @ macadmins.org on slack"            href="https://macadmins.org/"            class="slack" target="_blank">Slack</a>                /        <a title="108452882684071984253 on Google Plus"            href="https://plus.google.com/108452882684071984253"            class="google" target="_blank">Google</a>      </p></div>

    

    
      <div class="share-buttons">  <h5>Share this post on</h5>  <ul class="social-media">    <li>        <a title="mccauley_zack on Twitter"           href="https://twitter.com/intent/tweet?original_referer=https://wardsparadox.github.io/2017/05/12/hello-it-setup-and-deployment/&amp;text=Hello-IT Setup and Deployment&amp;url=https://wardsparadox.github.io/2017/05/12/hello-it-setup-and-deployment/" class="twitter wc-img-replace" target="_blank">          Twitter        </a>    </li>       <li>        <a title="108452882684071984253 on Google Plus"             href="https://plus.google.com/share?url=https://wardsparadox.github.io/2017/05/12/hello-it-setup-and-deployment/"             class="google wc-img-replace" target="_blank">Google</a>    </li>    <li>        <a title=" on Facebook"             href="https://www.facebook.com/sharer/sharer.php?u=https://wardsparadox.github.io/2017/05/12/hello-it-setup-and-deployment/&amp;t=Hello-IT Setup and Deployment"             class="facebook wc-img-replace" target="_blank">Facebook</a>    </li>  </ul></div>
    
  </div>

  
</div>

      </div>
      <a href="#0" class="wc-top">Top</a>

    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle">
      <span></span>
    </label>

    <script type="text/javascript">
      var config = {
        "browser_warning_page": "https://wardsparadox.github.io/browser-warning/",
        "disqus_shortname": ""
      };
      /* Browser support detection */
      var browserSupport = (function(){
        var htmlElemClasses = document.querySelector('html').className.split(' ');
        for ( var i = 0; i < htmlElemClasses.length; i += 1 ){
          var className = htmlElemClasses[i];
          if ( className === 'lt-ie9' ){
            return true;
          }
        }
      }());

      if (browserSupport){
        window.location="https://wardsparadox.github.io/browser-warning/";
      }

      /* To avoid render blocking css */
      var cb = function() {
        var l = document.createElement('link'); l.rel = 'stylesheet';
        l.href = 'https://fonts.googleapis.com/css?family=PT+Sans';
        var h = document.getElementsByTagName('head')[0]; h.parentNode.insertBefore(l, h);
      };
      var raf = requestAnimationFrame || mozRequestAnimationFrame ||
          webkitRequestAnimationFrame || msRequestAnimationFrame;
      if (raf) raf(cb);
      else window.addEventListener('load', cb);


    </script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script async type="text/javascript" src="https://wardsparadox.github.io/assets/js/gaya.min.js"></script>

    
    
<script type="text/javascript">var _gaq = _gaq || [];_gaq.push(['_setAccount', 'UA-99065592-1']);_gaq.push(['_trackPageview']);(function() {var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);})();</script>

  </body>
</html>
